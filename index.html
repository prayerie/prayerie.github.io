<!DOCTYPE html>
<html>

<head>
  <!-- css reset -->

  <style>
    /* http://meyerweb.com/eric/tools/css/reset/ 
   v2.0 | 20110126
   License: none (public domain)
*/

    html,
    body,
    div,
    span,
    applet,
    object,
    iframe,
    h1,
    h2,
    h3,
    h4,
    h5,
    h6,
    p,
    blockquote,
    pre,
    a,
    abbr,
    acronym,
    address,
    big,
    cite,
    code,
    del,
    dfn,
    em,
    img,
    ins,
    kbd,
    q,
    s,
    samp,
    small,
    strike,
    strong,
    sub,
    sup,
    tt,
    var,
    b,
    u,
    i,
    center,
    dl,
    dt,
    dd,
    ol,
    ul,
    li,
    fieldset,
    form,
    label,
    legend,
    table,
    caption,
    tbody,
    tfoot,
    thead,
    tr,
    th,
    td,
    article,
    aside,
    canvas,
    details,
    embed,
    figure,
    figcaption,
    footer,
    header,
    hgroup,
    menu,
    nav,
    output,
    ruby,
    section,
    summary,
    time,
    mark,
    audio,
    video {
      margin: 0;
      padding: 0;
      border: 0;
      font-size: 100%;
      font: inherit;
      vertical-align: baseline;
    }

    /* HTML5 display-role reset for older browsers */
    article,
    aside,
    details,
    figcaption,
    figure,
    footer,
    header,
    hgroup,
    menu,
    nav,
    section {
      display: block;
    }

    body {
      line-height: 1;
    }

    ol,
    ul {
      list-style: none;
    }

    blockquote,
    q {
      quotes: none;
    }

    blockquote:before,
    blockquote:after,
    q:before,
    q:after {
      content: '';
      content: none;
    }

    table {
      border-collapse: collapse;
      border-spacing: 0;
    }
  </style>
  <style>
    @font-face {
      font-family: 'fasttracker';
      src: url('./FT2FONT.otf');
    }

    * {
      -webkit-font-smoothing: none;
      -moz-osx-font-smoothing: unset;
      font-smoothing: unset;
      font-smooth: never;
      -ms-interpolation-mode: nearest-neighbor;
    }

    body {
      position: relative;
      margin: 0;
      padding: 20px;
      background: url("https://moya.cafe/13move47.gif");
      background-repeat: repeat;
    }

    .container {
      gap: 20px;
      align-items: center;
    }

    .left-panel {
      position: absolute;
      width: 400px;
      white-space: nowrap;
    }

    .parseres {
      height: 20px;
      color: red;
      margin-bottom: 5px;
    }

    .input-area {
      left: 10px;
      width: 400px;
      height: 780px;
      font-family: monospace;
      resize: none;
    }

    .btn-group {
      margin-top: 10px;
      gap: 10px;
    }

    .swatch-list {
      border: 1px solid #000;
      background: #fff;
      width: 450px;
      height: 555px;
      position: absolute;
      left: 450px;
      top: 15px;
      overflow-y: scroll;
      overflow-x: hidden;
    }

    .swatch {
      display: flex;
      align-items: center;
      gap: 0px;
      cursor: pointer;
      padding: 0px;
      background: linear-gradient(0deg, #4a5a8b, #516192, #586899, #5f6fa0, #6676a8, #6d7eaf, #7485b6, #7c8cbe, #8394c5);
      border: 0px solid transparent;
    }

    .swatch.active {
      background: linear-gradient(0deg, #e67b00, #e98800, #eb9600, #eca300, #edb100, #ecbe00, #ebcb00, #e9d900, #e6e600);
    }

    .swatchcol {
      width: 22px;
      height: 22px;
      min-width: 22px;
      min-height: 22px;
      margin: 4px;
      border: 2px solid #000000;
    }

    .swatchhr {
      display: none;
      margin: 0;
    }

    .swatchlb {
      -webkit-font-smoothing: none;
      -moz-osx-font-smoothing: unset;
      font-smoothing: unset;
      font-smooth: never;
      filter: contrast(1);
      -ms-interpolation-mode: nearest-neighbor;
      white-space: nowrap;
      font-family: 'fasttracker';
      font-size: 26px;
      margin-left: 5px;
    }

    .picker-panel {
      background: #ffffff;
      padding: 10px;
      border: 2px solid #ffffff;
      border-radius: 8px;
      position: absolute;
      top: 730px;
      left: -100px;
      width: 440px;
    }

    .spectrum-map {
      position: relative;
      width: 440px;
      height: 200px;
      margin-bottom: 10px;
    }

    .colsepline {
      left: 0px;
      margin-left: -10px;
      width: 400px;
    }

    #spectrum-canvas {
      width: 100%;
      height: 100%;
      cursor: crosshair;
    }

    .color-cursor {
      border-radius: 100%;
      background: #ccc;
      box-sizing: border-box;
      position: absolute;
      pointer-events: none;
      z-index: 2;
      border: 2px solid #fff;
      transition: all 0.2s ease;
    }

    .color-cursor.dragging {
      transition: none;
    }

    #spectrum-cursor {
      width: 30px;
      height: 30px;
      margin-left: -15px;
      margin-top: -15px;
      top: 0;
      left: 0;
    }

    .hue-map {
      position: relative;
      width: 440px;
      height: 20px;
    }

    #exportthingy {
      position: absolute;
      top: -5px;
      left: 55px;
    }

    #hue-canvas {
      width: 100%;
      height: 100%;
      cursor: pointer;
    }

    #hue-cursor {
      height: 24px;
      width: 24px;
      margin-top: -2px;
      margin-left: -12px;
      pointer-events: none;
      top: 0;
      left: 0;
    }

    #hueshifter {
      position: absolute;
      top: 822px;
      left: 175px;
      width: 225px;
    }

    #hueshiftertext {
      position: absolute;
      left: 250px;
    }

    #theme-name {
      font-family: 'fasttracker';
      font-size: 13px;
      height: 16px;
      position: absolute;
      left: -55px;
      width: 300px;
    }

    #btexport {
      font-family: 'fasttracker';
      font-size: 13px;
      position: absolute;
      left: 263px;
      width: 90px;
      height: 21px;

    }

    #hueandpickercol {
      position: absolute;
      left: 550px;
      top: -150px;
    }
  </style>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/tinycolor/1.4.2/tinycolor.min.js"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
</head>

<body>
  <!-- <center>
    <h1>NITROUSTRACKER THEME TOOL(currently broken and unfinished)</h1>
  </center>
  <center>
    <h3>click on a colour in the list to select it then drag the picker to change that colour</h3>
  </center> -->
  <div class="container">
    <div class="left-panel">
      <div class="parseres" id="parseres"></div>
      <div id="exportthingy">
        <input type="text" id="theme-name" placeholder="theme name">
        <button onclick="save_theme()" id="btexport">export</button>
      </div>
      <textarea class="input-area" id="input" onkeyup="loadTheme()"></textarea>
      <div class="btn-group">
        <button onclick="loadTheme()" id="load-btn">load</button>
        <button onclick="loadDefCols()">reset</button>

        <button onclick="randcols()">randomise</button>
        <input type="range" id="hueshifter" value="0" min="0" max="360">

      </div>
      <div id="hueshiftertext">hue shift : D</div>
      <!-- lock colours that have been decoupled but in stock nt theme use the same value, so changing one changes the other -->
      <label><input type="checkbox" id="cb_lock" onchange="lockcols = this.checked"> lck</label>
    </div>

    <div class="swatch-list" id="swatches">dfg</div>
    <div id="hueandpickercol">

      <div class="picker-panel">
        <div class="spectrum-map">
          <div id="spectrum-cursor" class="color-cursor"></div>
          <canvas id="spectrum-canvas" width="440" height="200"></canvas>
        </div>
        <div class="hue-map">
          <div id="hue-cursor" class="color-cursor"></div>
          <canvas id="hue-canvas" width="440" height="20"></canvas>
        </div>
      </div>
    </div>


    <!-- Worlds shittest DS: -->
    <div id="nds" style="display: flex; gap: 10px; top: -30px;">
      <div class="preview-panel" style="position: absolute; left: 920px; top: 27px;">
        <canvas id="preview-canvas-main" width="512" height="384"></canvas>
      </div>
      <div class="preview-panel" style="position: absolute; left: 920px; top: 430px;">
        <canvas id="preview-canvas" width="512" height="384"></canvas>
      </div>
      <!-- <div class="preview-panel" style="position: absolute; left: 870px; top: 800px;">
        <canvas id="preview-canvas-samp" width="512" height="384"></canvas>
      </div> -->
    </div>
  </div>

  <script src='./tobkit.js.min'></script>
  <!-- <script src='./tobkit.js'></script> -->
</body>

</html>
